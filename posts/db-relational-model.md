---
title: 데이터베이스 - [관계형 모델]
description: 관계형 모델, 변환과 연산에 대한 정리
publishedDate: "2022-03-10 21:55:00"
tag: CS
---

# 관계형 모델

## 관계형 모델의 개념

### 릴레이션의 구성 (용어 정리)

- 릴레이션

* 스키마
  - 컬럼과 컬럼의 수 및 도메인, 그리고 릴레이션의 이름을 포함
* 레코드,튜플
  - 행
* 컬럼,속성,필드
  - 열
* 컬럼 값
  - 레코드와 컬럼이 만나는 부분
* 영역,도메인
  - 컬럼이 가질 수 있는 값의 범위
* 차수
  - 컬럼 개수
* 카디널리티
  - 레코드 개수

### 릴레이션의 특징

- 레코드의 유일성
  - 중복된 레코드의 존재가 불가능
- 레코드의 무순서성
  - 레코드의 순서는 의미가 없음
- 컬럼의 무순서성
  - 컬럼은 순서가 없고, 이름과 값의 쌍
- 컬럼값의 원자성
  - 모든 값들은 나눌 수 없는, 단 하나의 의미

### 키의 종류 및 속성

- 유일성
- 최소성 irreducibility(더이상 축소할수 없을정도로 축소)

ERD의 키와 릴레이션에서의 키의 차이

- 릴레이션 에서는 최소성 만족까지 만족 해야함.

키의 종류

- 수퍼키
  - 유일성 만족
- 후보키
  - 유일성, 최소성 만족
- 기본키Primary Key
  - 레코드의 구분을 위해 선택된 후보키
- 외래키Foreign Key
  - 참조된 다른 릴레이션의 기본키
- 부분키
  - 약한 개체를 유일하고 최소로 구분 해 낼 수 있는 키. 약한개체의 기본키

### 관계형 모델의 제약 조건

- 영역 제약조건
  - 컬럼에 정의된 영역(domain)에 속한 값으로만 컬럼값이 결정. 데이터 무결성 유지
- 키 제약조건
  - 키는 레코드를 고유하게 구별하는 값으로 구성
- 개체 무결성 제약조건
  - 어떠한 기본키 값도 null이 될 수 없음
- 참조 무결성 제약조건
  - 반드시 존재하는 레코드의 기본키만 참조 가능

### NULL의 개념

"없음" 또는 "0"이 아닌 미지의 값에 대한 표현

입력된 적이 없는 값

적용 불가능한 값

## ERD의 변환

### 논리적 데이터 모델링

DMBS의 구현 모델에 맞춰 데이터를 표헌하는 과정

데이터 정의 언어로 기술된 개념 스키마 생성

논리적 데이터 모델링의 필요

- RDBMS의 구현 모델에 맞춰 데이터의 구조와 관계를 표현
- 작성된 ERD를 RDBMS가 수용가능한 구조로 변환

### 관계형 모델로 변환 방법

다대다 관계 => 새로운 릴레이션 생성

![relation](/images/db-data-modeling/1.png)

- 1대1의 관계에서 FK는 어디로 가는지?
  - 레코드의 개수가 적은쪽에 넣는게 바람직.

약한개체집합에 대해서는 부분키(밑줄점선)과 참조되는 외래키를 합쳐서 그 테이블의 기본키가 됨

![relation](/images/db-data-modeling/2.png)

## 데이터 연산

### 관계 연산의 개념

관계형 모델을 기반으로 구성된 릴레이션을 사용하여 새로운 릴레이션을 생성하는 표현

사용자의 관점에서 필요한 데이터를 릴레이션에서 추출하는 방법을 제공하는 도구

관계 대수란?

- 관계 연산을 정의하는 방법
- 주어진 릴레이션에 필요한 릴레이션을 만드는 연산자로 구성
- 관계 대수 연산자는 새로운 임시 릴레이션을 생성
- 연산자를 중첩하여 연산 처리 절차를 표현

### SELECT

주어진 릴레이션에서 조건을 만족하는 레코드를 갖는 릴레이션을 생성

조건의 결합

$$\sigma_{조건}(R)$$

### PROJECT

기술된 컬럼만으로 갖는 릴레이션으로 재구성

<컬럼리스트>: a1,a2...an과 같이 R에 존재하는 컬럼을 ,(콤마)로 분리하여 기술함

$$\pi_{A1, A2,...}(R)$$

### 집합 연산자

수학적 집합 이론에서의 이진 연산

- 합집합
- 교집합
- 차집합
- 릴레이션은 집합, 레코드는 집합에 포함된 원소
- 집합 연산자의 사용 조건
  - 릴레이션 R과 S의 차수가 동일
  - 모든 i에 대해 R의 i번째 컬럼의 도메인과 S의 i번째 컬럼의 도메인이 반드시 동일

### Cartesian Product

두 릴레이션에 포함된 모든 레코드 간의 조합을 생성하는 이항 연산자

$$ R \times S $$

### 조인 연산

두 릴레이션에서 조건을 만족하는 레코드를 결합한 레코드로 구성된 릴레이션을 생성 (cartesian product는 가능한 모든 경우의 수로 결합한다는 것이 다름)

### 조인연산의 예

교수 릴레이션과 학과 릴레이션에서,

동일한 학과 이름을 갖는 조건을 만족하는 조인 연산 결과는 다음 식으로 표현됨

$$\sigma_{교수.소속학과=학과.학과이름}(교수\times학과) $$

과목X교수를 cartesian product함

=> 다음 조건(PK와 FK가 같은레코드)충족하는것만 남기고 다 버림(join)
